{"mappings":"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","sources":["<anon>","src/parent-category.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire0d70\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire0d70\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"jasSx\", function(module, exports) {\n\n$parcel$export(module.exports, \"ParentCategory\", () => $7a8469afe192aa05$export$f84774d7760f2db1);\n\nvar $9q0SL = parcelRequire(\"9q0SL\");\n\nvar $e7kZn = parcelRequire(\"e7kZn\");\nclass $7a8469afe192aa05$export$f84774d7760f2db1 {\n    constructor(){\n        this.currentSelectItem = null;\n        this.dialog = document.querySelector(\"#item-operate-dialog\");\n        this.selectInput = document.querySelector(\"#select-new-state\");\n        this.changeButton = document.querySelector(\"#change-button\");\n        this.removeButton = document.querySelector(\"#remove-button\");\n        this.notStartedYetCategory = new (0, $9q0SL.Category)(\"not-started-yet\");\n        this.wipCategory = new (0, $9q0SL.Category)(\"wip\");\n        this.finishCategory = new (0, $9q0SL.Category)(\"finish\");\n        this.dialog.addEventListener(\"close\", ()=>{\n            if (this.currentSelectItem === null) throw Error(\"[ParentCategory.constructor] this.currentSelectItem = null\");\n            switch(this.dialog.returnValue){\n                case \"not-started-yet\":\n                case \"wip\":\n                case \"finish\":\n                    this.moveItem(this.dialog.returnValue);\n                    break;\n                case \"remove\":\n                    this.deleteItem();\n                    break;\n                default:\n                    return;\n            }\n            this.currentSelectItem = null;\n        });\n        this.changeButton.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            this.dialog.close(this.selectInput.value);\n        });\n        this.removeButton.addEventListener(\"click\", (event)=>{\n            event.preventDefault();\n            this.dialog.close(\"remove\");\n        });\n    }\n    appendNewTask(taskName) {\n        const todoItem = new (0, $e7kZn.TodoItem)(taskName, (_event, todoItem)=>{\n            this.currentSelectItem = todoItem;\n            this.selectInput.value = todoItem.currentGroup;\n            this.dialog.showModal();\n        });\n        this.notStartedYetCategory.appendTodo(todoItem);\n    }\n    moveItem(category) {\n        if (this.currentSelectItem === null) throw Error(\"[ParentCategory.moveItem] this.currentSelectItem = null\");\n        this.deleteItemInCategory();\n        switch(category){\n            case \"not-started-yet\":\n                this.notStartedYetCategory.appendTodo(this.currentSelectItem);\n                break;\n            case \"wip\":\n                this.wipCategory.appendTodo(this.currentSelectItem);\n                break;\n            case \"finish\":\n                this.finishCategory.appendTodo(this.currentSelectItem);\n                break;\n        }\n        this.currentSelectItem = null;\n    }\n    deleteItem() {\n        if (this.currentSelectItem === null) throw Error(\"[ParentCategory.deleteItem] this.currentSelectItem = null\");\n        this.currentSelectItem.remove();\n        this.deleteItemInCategory();\n        this.currentSelectItem = null;\n    }\n    deleteItemInCategory() {\n        if (this.currentSelectItem === null) throw Error(\"[ParentCategory.deleteItemInCategory] this.currentSelectItem = null\");\n        switch(this.currentSelectItem.currentGroup){\n            case \"not-started-yet\":\n                this.notStartedYetCategory.deleteTodo(this.currentSelectItem.uuid);\n                break;\n            case \"wip\":\n                this.wipCategory.deleteTodo(this.currentSelectItem.uuid);\n                break;\n            case \"finish\":\n                this.finishCategory.deleteTodo(this.currentSelectItem.uuid);\n                break;\n        }\n    }\n}\n\n});\n\n\nparcelRequire(\"jasSx\");\n\n//# sourceMappingURL=index.a583d4ee.js.map\n","import { Category } from './category';\nimport { BoxIdLiteral, TodoItem } from './todo-item';\n\nexport class ParentCategory {\n  private dialog: HTMLDialogElement;\n  private selectInput: HTMLSelectElement;\n  private changeButton: HTMLButtonElement;\n  private removeButton: HTMLButtonElement;\n  private notStartedYetCategory: Category;\n  private wipCategory: Category;\n  private finishCategory: Category;\n\n  private currentSelectItem: TodoItem | null = null;\n\n  constructor() {\n    this.dialog = document.querySelector('#item-operate-dialog')!;\n    this.selectInput = document.querySelector('#select-new-state')!;\n    this.changeButton = document.querySelector('#change-button')!;\n    this.removeButton = document.querySelector('#remove-button')!;\n    this.notStartedYetCategory = new Category('not-started-yet');\n    this.wipCategory = new Category('wip');\n    this.finishCategory = new Category('finish');\n\n    this.dialog.addEventListener('close', () => {\n      if (this.currentSelectItem === null) {\n        throw Error('[ParentCategory.constructor] this.currentSelectItem = null');\n      }\n\n      switch (this.dialog.returnValue) {\n        case 'not-started-yet':\n        case 'wip':\n        case 'finish':\n          this.moveItem(this.dialog.returnValue);\n          break;\n        case 'remove':\n          this.deleteItem();\n          break;\n        default:\n          return;\n      }\n\n      this.currentSelectItem = null;\n    });\n\n    this.changeButton.addEventListener('click', (event) => {\n      event.preventDefault();\n      this.dialog.close(this.selectInput.value);\n    });\n\n    this.removeButton.addEventListener('click', (event) => {\n      event.preventDefault();\n      this.dialog.close('remove');\n    })\n  }\n\n  appendNewTask(taskName: string): void {\n    const todoItem = new TodoItem(\n      taskName,\n      (_event, todoItem) => {\n        this.currentSelectItem = todoItem;\n        this.selectInput.value = todoItem.currentGroup;\n        this.dialog.showModal();\n      }\n    );\n    this.notStartedYetCategory.appendTodo(todoItem);\n  }\n\n  private moveItem(category: BoxIdLiteral): void {\n    if (this.currentSelectItem === null) {\n      throw Error('[ParentCategory.moveItem] this.currentSelectItem = null');\n    }\n\n    this.deleteItemInCategory();\n\n    switch (category) {\n      case 'not-started-yet':\n        this.notStartedYetCategory.appendTodo(this.currentSelectItem);\n        break;\n      case 'wip':\n        this.wipCategory.appendTodo(this.currentSelectItem);\n        break;\n      case 'finish':\n        this.finishCategory.appendTodo(this.currentSelectItem);\n        break;\n    }\n\n    this.currentSelectItem = null;\n  }\n\n  private deleteItem(): void {\n    if (this.currentSelectItem === null) {\n      throw Error('[ParentCategory.deleteItem] this.currentSelectItem = null');\n    }\n\n    this.currentSelectItem.remove();\n    this.deleteItemInCategory();\n    this.currentSelectItem = null;\n  }\n\n  private deleteItemInCategory(): void {\n    if (this.currentSelectItem === null) {\n      throw Error('[ParentCategory.deleteItemInCategory] this.currentSelectItem = null');\n    }\n\n    switch (this.currentSelectItem.currentGroup) {\n      case 'not-started-yet':\n        this.notStartedYetCategory.deleteTodo(this.currentSelectItem.uuid);\n        break;\n      case 'wip':\n        this.wipCategory.deleteTodo(this.currentSelectItem.uuid);\n        break;\n      case 'finish':\n        this.finishCategory.deleteTodo(this.currentSelectItem.uuid);\n        break;\n    }\n  }\n}\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$7a8469afe192aa05$export$f84774d7760f2db1","set","s","enumerable","configurable","$9q0SL","$e7kZn","constructor","currentSelectItem","dialog","document","querySelector","selectInput","changeButton","removeButton","notStartedYetCategory","Category","wipCategory","finishCategory","addEventListener","returnValue","moveItem","deleteItem","event","preventDefault","close","value","appendNewTask","taskName","todoItem","TodoItem","_event","currentGroup","showModal","appendTodo","category","deleteItemInCategory","remove","deleteTodo","uuid"],"version":3,"file":"index.a583d4ee.js.map"}